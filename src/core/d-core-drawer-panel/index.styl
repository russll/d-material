.d-core-drawer-panel
  display block
  position absolute
  top 0
  left 0
  width 100%
  height 100%
  overflow hidden
  .drawer
    position absolute
    top 0
    left 0
    /* FIXME(ffu) remove hard-coded drawer panel width */
    width 256px
    height 100%
    box-sizing border-box
    -mox-box-sizing border-box
    box-shadow 1px 0 1px rgba(0, 0, 0, 0.1)
    &.left-drawer-wrapper
      left 0
      right auto
    &.right-drawer-wrapper
      right 0
      left auto
  &.transition
    .left-drawer-wrapper
      transition -webkit-transform ease-in-out 0.3s, width ease-in-out 0.3s
      transition transform ease-in-out 0.3s, width ease-in-out 0.3s
  &.transition
    .right-drawer-wrapper
      transition -webkit-transform ease-in-out 0.3s, width ease-in-out 0.3s
      transition transform ease-in-out 0.3s, width ease-in-out 0.3s
  .main
    position absolute
    top 0
    left 0
    right 0
    bottom 0
    box-shadow: 1px 0 1px rgba(0, 0, 0, 0.1);
  &.left-drawer.transition
    .main
      transition left ease-in-out 0.3s, padding ease-in-out 0.3s
  &.right-drawer
    .main
      right 256px
  &.left-drawer
    .main
      left 256px
  &.right-drawer.transition
    .main
      transition right ease-in-out 0.3s, padding ease-in-out 0.3s
  .scrim
    position absolute
    top 0
    right 0
    bottom 0
    left 0
    background-color rgba(0, 0, 0, 0.3)
    visibility hidden
    opacity 0
    transition opacity ease-in-out 0.38s, visibility ease-in-out 0.38s

  /*
  narrow layout
  */
  .narrow-layout > .drawer.core-selected
    box-shadow 2px 2px 4px rgba(0, 0, 0, 0.15)

  .left-drawer.narrow-layout > .drawer:not(.core-selected)
    -webkit-transform translate3d(-100%, 0, 0)
    transform translate3d(-100%, 0, 0)

  .right-drawer.narrow-layout > .drawer:not(.core-selected)
    left auto
    -webkit-transform translate3d(100%, 0, 0)
    transform translate3d(100%, 0, 0)

  .left-drawer.narrow-layout > .main
    left 0 !important
    padding 0

  .right-drawer.narrow-layout > .main
    left 0
    right 0
    padding 0

  .narrow-layout > .main:not(.core-selected) .scrim,
  .dragging .scrim
    visibility visible
    opacity 1